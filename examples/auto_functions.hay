include "std.hay"

struct Foo {
  u64: one
  u64: two

impl:
  fn Foo.print(Foo: f) {
    "Foo(" puts f::one putu "," puts f::two putu ")" putlns
  }

  fn -Foo(Foo: f) {
    "Destroying Foo(" puts f::one putu "," puts f::two putu ")" putlns
  }
}

struct Bar {
  Foo: foo1
  Foo: foo2
impl:
  fn -Bar(Bar: b) {
    "Foo1: " puts b::foo1 Foo.print
    "Foo2: " puts b::foo2 Foo.print 
    "Destroying Bar" putlns
  }
}

fn main() {

  100 105 cast(Foo)
  200 205 cast(Foo)
  cast(Bar) as [b] {}

}


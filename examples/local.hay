include "std.hay"

fn foo(Str: s) {

    var u8[100]: bytes
    var u64: size

    bytes @ as [arr]

    s::size size ! 
    0 while dup s::size < {
        as [i]
        s::data i ptr+ @ i arr Arr.set
        i 1 +
    } drop

    size @ arr::data cast(Str) write
}

fn main() {
    "Hello Local!\n" foo
    "1234567890\n" foo
}